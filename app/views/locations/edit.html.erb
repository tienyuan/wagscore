<% @page_title = capture do %>
Edit a Location - Wagscore
<% end %>

<h1>Edit a Location</h1>

<%= form_for(@location) do |f| %>
  <% if @location.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@location.errors.count, "error") %> prohibited this location from being saved:</h2>

      <ul>
      <% @location.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :name %><br>
    <%= f.text_field :name, class: 'form-control' %>
  </div>
  <div class="field">
    <%= f.label :address %><br>
    <%= f.text_field :address, class: 'form-control' %>
  </div>
  <div class="field">
    <%= f.label :city %><br>
    <%= f.text_field :city, class: 'form-control' %>
  </div>
  <div class="field">
    <%= f.label :state %><br>
    <%= f.text_field :state, class: 'form-control' %>
  </div>
  <div class="field">
    <%= f.label :zipcode %><br>
    <%= f.text_field :zipcode, class: 'form-control' %>
  </div>
  <div class="field">
    <%= f.label :description %><br>
    <%= f.text_field :description, class: 'form-control' %>
  </div>
  <div class="field">
    <%= f.label :url %>
    <%= f.text_field :url, class: 'form-control' %>
  </div>
  <div class="checkbox">
    <%= f.label :public, class: 'checkbox' do %>
    <%= f.check_box :public %> Public
    <% end %>
  </div>
  <div class="checkbox">
    <%= f.label :flagged, class: 'checkbox' do %>
    <%= f.check_box :flagged %> Flagged
    <% end %>
  </div>
  <div class="checkbox">
    <b>Choose Category</b> *
    <%= f.collection_check_boxes :category_ids, Category.all, :id, :name do |b| 
       b.label(class: "checkbox") { b.check_box + b.text}
    end %>
  </div>
  <div class="field">
  Coordinates:
  <%= @location.latitude %>, 
  <%= @location.longitude %>
  </div>
  <div class="field">
  Submitted by: <%= @location.submission.email %><br/>
  IP: <%= @location.submission.ip_address %><br/><br/>
  </div>
  <div class="actions">
    <%= f.submit class: "btn btn-primary" %>
  </div>
<% end %>

<br/>
<%= link_to 'Show', @location %> |
<%= link_to 'Back', locations_path %>
